<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>工作指派與追蹤</title>
    <link rel="stylesheet" href="style.css">
    
    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-analytics.js";

        // Firebase 配置
        const firebaseConfig = {
            apiKey: "AIzaSyCl6VXMgsDvOvQw88aW8gJ_C05uieLcS4U",  // 替換為你的 API 金鑰
            authDomain: "jinwork-9ff50.firebaseapp.com",  // 替換為你的認證域名
            projectId: "jinwork-9ff50",  // 替換為你的專案 ID
            storageBucket: "jinwork-9ff50.firebasestorage.app",  // 替換為你的存儲桶
            messagingSenderId: "542996811198",  // 替換為你的發送 ID
            appId: "1:542996811198:web:de616478b83bbedab2fdef",  // 替換為你的應用 ID
            measurementId: "G-99V7C5QJD0"  // 如果有，請替換為你的測量 ID
        };

        // 初始化 Firebase
        const app = initializeApp(firebaseConfig);

        // 初始化 Firestore 和 Analytics（如果需要）
        const db = getFirestore(app);
        const analytics = getAnalytics(app);
    </script>
</head>
<body>

    <header>
        <h1>工作指派與追蹤</h1>
    </header>

    <!-- 登入區 -->
    <div class="login-container" id="login-container">
        <h2>登入系統</h2>
        <input type="text" id="username" placeholder="使用者名稱" />
        <input type="password" id="password" placeholder="密碼" />
        <button onclick="login()">登入</button>
        <p class="error-message" id="error-message" style="display: none;">帳號或密碼錯誤！</p>
    </div>

    <!-- 工作指派區 -->
    <div class="task-input" id="task-input" style="display: none;">
        <h3>指派新工作</h3>
        <input type="text" id="new-task" placeholder="輸入新工作內容">
        <input type="date" id="task-deadline">
        <input type="text" id="assignee" placeholder="指定工作人員 (名稱)">
        <input type="password" id="task-password" placeholder="設定工作密碼">
        
        <!-- 新增備註區域 -->
        <h3>工作備註</h3>
        <textarea id="remarks" placeholder="輸入備註內容"></textarea>

        <!-- 提交工作按鈕移至備註下面 -->
        <button onclick="addTask()">指派工作</button>
    </div>

    <!-- 登出按鈕 -->
    <button class="logout-btn" id="logout-btn" style="display: none;" onclick="logout()">登出</button>

    <!-- 工作清單 -->
    <div class="task-container" id="task-list">
        <h3>工作清單</h3>
        <!-- 工作項目將顯示在這裡 -->
    </div>

    <script src="firebaseConfig.js"></script>
    <script src="auth.js"></script>
    <script src="taskManager.js"></script>
    <script src="taskUI.js"></script>
</body>
</html>
